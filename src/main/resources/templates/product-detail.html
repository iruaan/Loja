<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${product.name} + ' - USECS Fashion'"></title>
    <link rel="stylesheet" th:href="@{/css/ProductDetailStyle.css}">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Header -->
    <header>
        <div class="menu-icon" onclick="toggleMenu()">&#9776;</div>
        <div class="logo">
            <img th:src="@{/images/logo.png}" alt="USECS Fashion Logo">
        </div>
        <div class="icones-direita">
            <a href="/login">
                <div class="login-icon">
                    <img th:src="@{/images/icons8-user-50.png}" alt="Ícone de Usuário">
                </div>
            </a>
            <div class="cart-icon">
                <img th:src="@{/images/carrinho.png}" alt="Ícone de Carrinho">
            </div>
        </div>
    </header>

    <!-- Menu Expansivo -->
    <div class="menu-expansivo" id="menuExpansivo">
        <div class="fechar-menu" onclick="toggleMenu()">&times;</div>
        <a href="#">Vestidos</a>
        <a href="#">Blusas</a>
        <a href="#">Calças</a>
        <a href="#">Acessórios</a>
        <a href="#">Promoções</a>
    </div>

    <div class="product-page-container">
        <div class="product-content">
            <!-- Galeria de imagens -->
            <div class="product-gallery">
                <div class="main-image">
                    <img th:src="${product.imageUrl}" alt="Imagem do Produto">
                </div>
                <div class="secondaryImages">
                    <img th:each="img : ${product.images}" th:src="${img.imageUrl}" alt="Imagem Secundária">
                </div>
            </div>

            <!-- Informações do produto -->
            <div class="product-info">
                <h1 th:text="${product.name}"></h1>
                <p class="product-price" th:text="'R$ ' + ${#numbers.formatDecimal(product.price, 1, 2)}"></p>
                <p class="product-description">
                    <strong>Descrição:</strong> <span th:text="${product.description}"></span>
                </p>
                
<!-- Exibindo os tamanhos disponíveis para o produto -->
<!-- Exibindo os botões de tamanho -->
<div>
    <label>Tamanhos:</label>
    <div>
        <button type="button" class="size-button" th:each="size : ${product.sizes}" 
            th:text="${size.name}" th:data-id="${size.id}" onclick="selectSize(this)"></button>
    </div>
</div>

<div>
    <div>
        <label>Cores:</label>
        <div class="color-options">
            <button type="button" 
                    class="color-btn" 
                    th:each="color : ${product.colors}" 
                    th:data-id="${color.id}" 
                    onclick="selectColor(this)"
                    th:style="|background-color: ${#strings.replace(color.name, 'Azul', '#0000FF')};|">
            </button>
        </div>
    </div>
    


                <button class="buy-button">Comprar Agora</button>
            </div>
        </div>
    </div>

    <script>
        // Função para abrir/fechar o menu expansivo
        function toggleMenu() {
            const menu = document.getElementById('menuExpansivo');
            menu.classList.toggle('active');
        }
        const colorMap = {
    'Azul': '#0000FF',
    'Branco': '#FFFFFF',
    'Preto': '#000000',
    'Vermelho': '#FF0000'
};

function selectColor(button) {
    const colorName = button.innerText; // Aqui não usamos o nome, apenas para exemplo.
    const colorCode = colorMap[colorName];
    button.style.backgroundColor = colorCode;
}




    </script>
</body>

</html>